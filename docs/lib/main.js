var timer,running=!0,slopeX=2,slopeY=1,x=1,$greeting=$(".greeting"),$bouncing_image=$(".bouncing_image");windowHeight=$(window).height()-$bouncing_image.width(),windowWidth=$(window).width()-$bouncing_image.width();var startTimestamp,previousTimestamp,startPos=function(){var i=$(window).height()-$(".bouncing_image").width();return Math.floor(Math.random()*i)},y=startPos(),reverse=function(i){return-1*i},bouncingBeauty=function(i){void 0===startTimestamp&&(startTimestamp=i);previousTimestamp!==i&&(x>windowWidth?(x=windowWidth,slopeX=reverse(slopeX)):x<0?(x=0,slopeX=reverse(slopeX)):y>windowHeight?(y=windowHeight,slopeY=reverse(slopeY)):y<0&&(y=0,slopeY=reverse(slopeY)),$bouncing_image.css({left:(x+=slopeX)+"px",bottom:(y+=slopeY)+"px"})),1==running&&(previousTimeStamp=i,window.requestAnimationFrame(bouncingBeauty))},start=function(){window.requestAnimationFrame(bouncingBeauty)};$(document).ready(function(){$bouncing_image.css("bottom",startPos()+"px"),$bouncing_image.css("visibility","visible"),start()}),$(window).on("resize",function(){windowHeight=$(window).height()-$(".bouncing_image").width(),windowWidth=$(window).width()-$(".bouncing_image").width()}),$bouncing_image.click(function(){if(running){clearInterval(timer);$greeting.position();var i=$bouncing_image.width();$bouncing_image.animate({left:$(window).width()/2-i/2,bottom:$(window).height()/2-i/2})}else{var n=$bouncing_image.position();x=n.left,y=n.top,start()}running=!running,$greeting.toggleClass("-is--hidden"),$bouncing_image.toggleClass("rotate")});